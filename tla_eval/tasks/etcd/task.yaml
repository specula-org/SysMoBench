# etcd task configuration
name: "etcd"
description: "etcd distributed key-value store with Raft consensus"
system_type: "distributed"
language: "go"

# Source code repository information
repository:
  url: "https://github.com/etcd-io/raft.git"
  branch: "main"
  # Fixed version for trace generation stability
  version: "v3.5.12"  # Last tested stable version
  
# Files to extract from the repository
source_files:
  - path: "raft.go" 
    description: "Main Raft consensus algorithm implementation"

# Default file to use if not specified
default_source_file: "raft.go"

# TLA+ specification module name
specModule: "etcdraft"

# Metadata
metadata:
  original_project: "etcd"
  version: "v3.5.12"  # Fixed for stability
  complexity: "high"
  focus_areas:
    - "distributed consensus"
    - "key-value operations" 
    - "leader election"
    - "log replication"
  
# Phase 3 specific configuration
phase3:
  trace_generation: true
  patch_required: false  # No patch needed - TraceLogger is built-in
  build_tags: ["with_tla"]  # Go build tags required for trace support
  description: "etcd raft has built-in TraceLogger support, just needs with_tla build tag"